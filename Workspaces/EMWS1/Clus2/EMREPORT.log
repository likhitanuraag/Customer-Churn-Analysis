*------------------------------------------------------------*
* Report Log
Date:                October 24, 2020
Time:                18:48:35
*------------------------------------------------------------*
11832  data WORK.M1B_NN3G;
11833  set WORK.M1B_NN3G;
11834  if role eq 'REJECTED' then role = 'INPUT';
11835  run;

NOTE: There were 10 observations read from the data set WORK.M1B_NN3G.
NOTE: The data set WORK.M1B_NN3G has 10 observations and 21 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11836  data WORK.M1B_NN3G;
11837  set WORK.M1B_NN3G end=_eof_ nobs=_nobs_;
11838  output;
11839  if _eof_ then do;
11840  name = '_SEGMENT_';
11841  ROLE = 'TARGET';
11842  LEVEL = 'NOMINAL';
11843  LABEL = 'Segment Variable';
11844  TYPE = 'N';
11845  FORMAT = '';
11846  INFORMAT = '';
11847  USE='Y';
11848  output;
11849  end;
11850  run;

NOTE: There were 10 observations read from the data set WORK.M1B_NN3G.
NOTE: The data set WORK.M1B_NN3G has 11 observations and 21 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

11851  *------------------------------------------------------------*;
11852  * Clus2: Create decision matrix;
11853  *------------------------------------------------------------*;
11854  *------------------------------------------------------------* ;
11855  * Clus2: Tree Variables Macro ;
11856  *------------------------------------------------------------* ;
11857  %macro EM_TREEVARS;
11858      Age Balance Country CreditScore EstimatedSalary Gender HasCreditCard
11859     IsActiveMember NumOfProducts Tenure
11860  %mend EM_TREEVARS;
11861  *------------------------------------------------------------* ;
11862  * Clus2: Tree Targets Macro ;
11863  *------------------------------------------------------------* ;
11864  %macro EM_TREETARGETS;
11865      _SEGMENT_
11866  %mend EM_TREETARGETS;
11867  data EMWS1.EM_Clus2 / view=EMWS1.EM_Clus2;
11868  set EMWS1.Clus2_TRAIN(keep=%EM_TREEVARS %EM_TREETARGETS);
11869  run;

NOTE: DATA STEP view saved on file EMWS1.EM_CLUS2.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: View EMWS1.CLUS2_TRAIN.VIEW used (Total process time):
      real time           0.07 seconds
      cpu time            0.07 seconds
      
NOTE: DATA statement used (Total process time):
      real time           0.09 seconds
      cpu time            0.09 seconds
      

11870  *------------------------------------------------------------* ;
11871  * Clus2: Interval Inputs Macro ;
11872  *------------------------------------------------------------* ;
11873  %macro INTINPUTS;
11874      Age Balance CreditScore EstimatedSalary NumOfProducts Tenure
11875  %mend INTINPUTS;
11876  *------------------------------------------------------------* ;
11877  * Clus2: Binary and Nominal Inputs Macro ;
11878  *------------------------------------------------------------* ;
11879  %macro NOMINPUTS;
11880      Country Gender HasCreditCard IsActiveMember
11881  %mend NOMINPUTS;
11882  *------------------------------------------------------------* ;
11883  * Clus2: Ordinal Inputs Macro ;
11884  *------------------------------------------------------------* ;
11885  %macro ORDINPUTS;
11886  
11887  %mend ORDINPUTS;
11888  *------------------------------------------------------------*;
11889  * Clus2: Run ARBOR procedure;
11890  *------------------------------------------------------------*;

11891  proc arbor data=EMWS1.EM_Clus2
11892  MAXSURRS=5
11893  ;
11894  ;
11895  input %INTINPUTS
11896  / level = interval;
11897  input %NOMINPUTS
11898  / level=nominal;
11899  target _SEGMENT_ / level=NOMINAL
11900  Criterion=PROBCHISQ
11901  ;
11902  ;
11903  Performance DISK
11904  ;
11905  MAKEMACRO NLEAVES=nleaves;
NOTE: 1438792 kilobytes of physical memory.
NOTE: Will use 7963 out of 7963 training cases.
NOTE: Using memory pool with 270854144 bytes.
NOTE: Passed training data 18 times.
NOTE: Training used 2240056 bytes of work memory.
NOTE: The subtree sequence contains 32 subtrees. The largest has 63 nodes and 32 leaves.
NOTE: Using subtree with 51 nodes and 26 leaves.
NOTE: Created macro variable NLEAVES equal to 26.
11906  save
11907  MODEL=EMWS1.Clus2_PLOTDS
11908  SEQUENCE=EMWS1.Clus2_OUTSEQ
11909  IMPORTANCE=EMWS1.Clus2_OUTIMPORT
11910  NODESTAT=EMWS1.Clus2_OUTNODES
11911  SUMMARY=WORK.OUTSUMMARY_TREE_1H1VDSC
11912  STATSBYNODE=WORK.OUTSTATS_TREE_1H1VDSC
11913  Pathlistnonmissing = WORK.OUTPATH_TREE_1H1VDSC
11914  Rules = WORK.OUTRULES_TREE_1H1VDSC
11915  ;
NOTE: The data set EMWS1.CLUS2_OUTIMPORT has 10 observations and 5 variables.
NOTE: The data set EMWS1.CLUS2_PLOTDS has 2306 observations and 4 variables.
NOTE: The data set EMWS1.CLUS2_OUTNODES has 51 observations and 26 variables.
NOTE: The data set WORK.OUTPATH_TREE_1H1VDSC has 214 observations and 7 variables.
NOTE: The data set WORK.OUTRULES_TREE_1H1VDSC has 611 observations and 6 variables.
NOTE: The data set EMWS1.CLUS2_OUTSEQ has 32 observations and 11 variables.
NOTE: The data set WORK.OUTSTATS_TREE_1H1VDSC has 357 observations and 5 variables.
NOTE: The data set WORK.OUTSUMMARY_TREE_1H1VDSC has 24 observations and 8 variables.
11916  run;

11917  quit;

NOTE: There were 10000 observations read from the data set EMWS1.FIMPORT_DATA.
NOTE: There were 10000 observations read from the data set EMWS1.FIMPORT_TRAIN.
NOTE: There were 7963 observations read from the data set EMWS1.FILTER2_TRAIN.
NOTE: View EMWS1.EM_CLUS2.VIEW used (Total process time):
      real time           0.51 seconds
      cpu time            0.51 seconds
      
NOTE: There were 7963 observations read from the data set EMWS1.CLUS2_TRAIN.
NOTE: There were 7963 observations read from the data set EMWS1.EM_CLUS2.
NOTE: The data set WORK._NAMEDAT has 5 observations and 5 variables.
NOTE: PROCEDURE ARBOR used (Total process time):
      real time           0.53 seconds
      cpu time            0.53 seconds
      

11918  data EMWS1.Clus2_OUTIMPORT;
11919  set EMWS1.Clus2_OUTIMPORT;
11920  label NAME = "%sysfunc(sasmsg(sashelp.dmine, meta_name_vlabel, noquote))" LABEL = "%sysfunc(sasmsg(sashelp.dmine, meta_label_vlabel, noquote))" NRULES = "%sysfunc(sasmsg(sashelp.dmine, rpt_nrules_vlabel, noquote))" IMPORTANCE =
11921     "%sysfunc(sasmsg(sashelp.dmine, rpt_importance_vlabel, noquote))" NSURROGATES = "%sysfunc(sasmsg(sashelp.dmine, rpt_nsurrogates_vlabel, noquote))"
11922  ;
11923  run;

NOTE: There were 10 observations read from the data set EMWS1.CLUS2_OUTIMPORT.
NOTE: The data set EMWS1.CLUS2_OUTIMPORT has 10 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

11924  filename x "C:\Users\20161277\Documents\CA Assignment 3\Workspaces\EMWS1\Clus2\ENGLISHRULES.txt" encoding='utf-8' NOBOM;

11925  data temp;
11926  length varname $15;
11927  retain varname;
11928  set WORK.OUTPATH_TREE_1H1VDSC;
11929  if ^missing(variable) then varname=variable;
11930  else if ^missing(var_name) then varname=var_name;
11931  output;
11932  run;

NOTE: There were 214 observations read from the data set WORK.OUTPATH_TREE_1H1VDSC.
NOTE: The data set WORK.TEMP has 214 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

11933  proc sort data=temp;
11934  by node;
11935  run;

NOTE: There were 214 observations read from the data set WORK.TEMP.
NOTE: The data set WORK.TEMP has 214 observations and 8 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11936  proc sort data=EMWS1.Clus2_OUTNODES out=outnodes;
11937  by node;
11938  run;

NOTE: There were 51 observations read from the data set EMWS1.CLUS2_OUTNODES.
NOTE: The data set WORK.OUTNODES has 51 observations and 26 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11939  data temp;
11940  merge temp(in=_a) outnodes(keep= node
11941  NPRIORS
11942  P__SEGMENT_1
11943  P__SEGMENT_3
11944  P__SEGMENT_5
11945  P__SEGMENT_4
11946  P__SEGMENT_2
11947  );
11948  by node;
11949  if _a;
11950  run;

NOTE: There were 214 observations read from the data set WORK.TEMP.
NOTE: There were 51 observations read from the data set WORK.OUTNODES.
NOTE: The data set WORK.TEMP has 214 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

11951  proc sort data=temp;
11952  by node descending varname descending numeric_value;
11953  run;

NOTE: There were 214 observations read from the data set WORK.TEMP.
NOTE: The data set WORK.TEMP has 214 observations and 14 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11954  data _null_;
11955  file x;
11956  set temp;
11957  by node descending varname;
11958  retain origvar oldnode string;
11959  length origvar $32 oldnode 8 string $200;
11960  if _n_ = 1 then do;
11961  origvar = varname;
11962  oldnode = node;
11963  end;
11964  if first.node then do;
11965  put "&EM_CODEBAR";
11966  put " Node = " node;
11967  put "&EM_CODEBAR";
11968  end;
11969  if first.varname then do;
11970  if RELATION ^in ("=", "ISMISSING", "ISNOTMISSING") then do;
11971  if MISSING(CHARACTER_VALUE) then do;
11972  if NUMERIC_VALUE ne . then do;
11973  if ^first.node then do;
11974  string= "AND "|| strip(varname)||" "||strip(relation)||" "||strip(numeric_value);
11975  end;
11976  else do;
11977  string= "if "|| strip(varname)||" "||strip(relation)||" "||strip(numeric_value);
11978  end;
11979  end;
11980  end;
11981  else do;
11982  if ^first.node then do;
11983  string= "AND "|| strip(varname)||" "||strip(relation)||" "||strip(character_value);
11984  end;
11985  else do;
11986  string= "if "|| strip(varname)||" "||strip(relation)||" "||strip(character_value);
11987  end;
11988  end;
11989  end;
11990  else if RELATION in ("=") then do;
11991  if ^first.node then do;
11992  string = "AND "||strip(varname) ||" IS ONE OF: "||character_value;
11993  end;
11994  else do;
11995  string = "if "|| strip(varname) ||" IS ONE OF: "||character_value;
11996  end;
11997  end;
11998  else if RELATION in ("ISMISSING") then do;
11999  if ^first.node then do;
12000  string = " AND "|| strip(varname) || " equals Missing";
12001  end;
12002  else do;
12003  string = "if "|| strip(varname) ||" equals Missing";
12004  end;
12005  end;
12006  else if RELATION in ("ISNOTMISSING") then do;
12007  if ^first.node then do;
12008  string = " AND "|| strip(varname) || " equals All Values";
12009  end;
12010  else do;
12011  string = "if "|| strip(varname) ||" equals All Values";
12012  end;
12013  end;
12014  if ^missing(varname) then origvar = varname;
12015  oldnode=node;
12016  end;
12017  else do;
12018  if RELATION ^in ("=", "ISMISSING", "ISNOTMISSING") then do;
12019  if MISSING(CHARACTER_VALUE) then do;
12020  if NUMERIC_VALUE ne . then do;
12021  if ^MISSING(string) then string= strip(string)||" AND "|| strip(varname)||" "||strip(relation)||" "||strip(numeric_value);
12022  else string= " if "|| strip(varname)||" "||strip(relation)||" "||strip(numeric_value);
12023  end;
12024  end;
12025  else do;
12026  if ^MISSING(string) then string= strip(string)||" AND "|| strip(varname)||" "||strip(relation)||" "||strip(character_value);
12027  else string= " if "|| strip(varname)||" "||strip(relation)||" "||strip(character_value);
12028  end;
12029  end;
12030  else if RELATION in ("=") then do;
12031  string = strip(string)||", "||strip(character_value);
12032  end;
12033  else if RELATION in ("ISMISSING") then do;
12034  end;
12035  if ^missing(varname) then origvar = varname;
12036  oldnode=node;
12037  end;
12038  if last.varname then do;
12039  if RELATION in ("ISMISSING") then do;
12040  if ^first.varname then do;
12041  string = strip(string) || " or MISSING";
12042  end;
12043  end;
12044  put string;
12045  if ^missing(varname) then origvar = varname;
12046  oldnode=node;
12047  end;
12048  if last.node then do;
12049  put "then ";
12050  put " Tree Node Identifier   = " node;
12051  put " Number of Observations = " NPRIORS;
12052  put " Predicted: _SEGMENT_=1  = " P__SEGMENT_1;
12053  put " Predicted: _SEGMENT_=3  = " P__SEGMENT_3;
12054  put " Predicted: _SEGMENT_=5  = " P__SEGMENT_5;
12055  put " Predicted: _SEGMENT_=4  = " P__SEGMENT_4;
12056  put " Predicted: _SEGMENT_=2  = " P__SEGMENT_2;
12057  put " ";
12058  if ^missing(varname) then origvar = varname;
12059  oldnode=node;
12060  end;
12061  run;

NOTE: Numeric values have been converted to character values at the places given by: (Line):(Column).
      11974:67    11977:66    12021:108   12022:72    
NOTE: The file X is:
      Filename=C:\Users\20161277\Documents\CA Assignment 3\Workspaces\EMWS1\Clus2\ENGLISHRULES.txt,
      RECFM=V,LRECL=131068,File Size (bytes)=0,
      Last Modified=24Oct2020:18:48:35,
      Create Time=19Oct2020:12:41:28

NOTE: 413 records were written to the file X.
      The minimum record length was 1.
      The maximum record length was 62.
NOTE: There were 214 observations read from the data set WORK.TEMP.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12062  filename x;
NOTE: Fileref X has been deassigned.

12063  /* belowtext */
12064  data templabel;
12065  set WORK.OUTRULES_TREE_1H1VDSC;
12066  if ((ROLE="PRIMARY") AND (STAT ="LABEL"));
12067  rename character_value = belowtext;
12068  keep NODE character_value;
12069  run;

NOTE: There were 611 observations read from the data set WORK.OUTRULES_TREE_1H1VDSC.
NOTE: The data set WORK.TEMPLABEL has 0 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12070  data tempvar;
12071  set WORK.OUTRULES_TREE_1H1VDSC;
12072  if ((ROLE="PRIMARY") AND (STAT="VARIABLE"));
12073  keep NODE character_value;
12074  run;

NOTE: There were 611 observations read from the data set WORK.OUTRULES_TREE_1H1VDSC.
NOTE: The data set WORK.TEMPVAR has 25 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12075  proc sort data=templabel;
12076  by node;
12077  run;

NOTE: Input data set is empty.
NOTE: The data set WORK.TEMPLABEL has 0 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12078  proc sort data=tempvar;
12079  by node;
12080  run;

NOTE: There were 25 observations read from the data set WORK.TEMPVAR.
NOTE: The data set WORK.TEMPVAR has 25 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12081  data tempbelow;
12082  merge templabel tempvar;
12083  by node;
12084  if missing(belowtext) then belowtext= character_value;
12085  keep node belowtext;
12086  run;

NOTE: There were 0 observations read from the data set WORK.TEMPLABEL.
NOTE: There were 25 observations read from the data set WORK.TEMPVAR.
NOTE: The data set WORK.TEMPBELOW has 25 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12087  proc sort data=tempbelow;
12088  by node;
12089  run;

NOTE: There were 25 observations read from the data set WORK.TEMPBELOW.
NOTE: The data set WORK.TEMPBELOW has 25 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12090  /* abovetext */
12091  data tempoutrules;
12092  set WORK.OUTRULES_TREE_1H1VDSC;
12093  if ((ROLE='PRIMARY') AND(STAT in ("INTERVAL", "ORDINAL", "NOMINAL")));
12094  run;

NOTE: There were 611 observations read from the data set WORK.OUTRULES_TREE_1H1VDSC.
NOTE: The data set WORK.TEMPOUTRULES has 28 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12095  proc sort data=tempoutrules;
12096  by node numeric_value;
12097  run;

NOTE: There were 28 observations read from the data set WORK.TEMPOUTRULES.
NOTE: The data set WORK.TEMPOUTRULES has 28 observations and 6 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12098  data tempabove;
12099  set tempoutrules(rename=(node=parent));
12100  by parent numeric_value;
12101  retain abovetext tempstring flag branch origval origchar;
12102  *length abovetext tempstring origchar $45;
12103  length abovetext $256;
12104  length tempstring origchar $64;
12105  if STAT in ("INTERVAL", "ORDINAL") then do;
12106  if first.parent then do;
12107  if missing(character_value) then do;
12108  numeric_value = round(numeric_value, 0.0001);
12109  abovetext = "< "||strip(NUMERIC_VALUE);
12110  branch = 1;
12111  origval = numeric_value;
12112  output;
12113  end;
12114  else do;
12115  abovetext = "< "||strip(CHARACTER_VALUE);
12116  branch = 1;
12117  origchar = character_value;
12118  output;
12119  end;
12120  if first.parent AND last.parent then do;
12121  if missing(character_value) then do;
12122  numeric_value = round(numeric_value, 0.0001);
12123  branch = branch + 1;
12124  abovetext = ">= "||strip(NUMERIC_VALUE);
12125  output;
12126  end;
12127  else do;
12128  branch = branch + 1;
12129  abovetext = ">= "||strip(CHARACTER_VALUE);
12130  output;
12131  end;
12132  end;
12133  end;
12134  else if last.parent then do;
12135  if ( missing(character_value) AND (origval ne numeric_value)) or ( ^missing(character_value) AND (origchar ne character_value)) then do;
12136  if missing(character_value) then do;
12137  numeric_value = round(numeric_value, 0.0001);
12138  abovetext= "[ "||strip(origval)||", "|| strip(numeric_value)||" )";
12139  end;
12140  else do;
12141  abovetext= ">= "||strip(origchar)||" AND < "|| strip(character_value);
12142  end;
12143  branch = branch + 1;
12144  output;
12145  if missing(character_value) then do;
12146  numeric_value = round(numeric_value, 0.0001);
12147  abovetext = ">= "||strip(NUMERIC_VALUE);
12148  end;
12149  else do;
12150  abovetext = ">= "||strip(CHARACTER_VALUE);
12151  end;
12152  branch = branch + 1;
12153  output;
12154  end;
12155  else do;
12156  if missing(character_value) then do;
12157  numeric_value = round(numeric_value, 0.0001);
12158  abovetext = ">= "||strip(NUMERIC_VALUE);
12159  end;
12160  else do;
12161  abovetext = ">= "||strip(CHARACTER_VALUE);
12162  end;
12163  branch = branch + 1;
12164  output;
12165  end;
12166  end;
12167  else do;
12168  if ( missing(character_value) AND (origval ne numeric_value)) or ( ^missing(character_value) AND (origchar ne character_value)) then do;
12169  if missing(character_value) then do;
12170  numeric_value = round(numeric_value,0.0001);
12171  abovetext= "[ "||strip(origval)||", "|| strip(numeric_value)||" )";
12172  origval = numeric_value;
12173  end;
12174  else do;
12175  abovetext= ">= "||strip(origchar)||" AND < "|| strip(character_value);
12176  origchar = character_value;
12177  end;
12178  branch = branch + 1;
12179  output;
12180  end;
12181  else do;
12182  if missing(character_value) then do;
12183  numeric_value = round(numeric_value, 0.0001);
12184  abovetext = ">= "||strip(NUMERIC_VALUE);
12185  origval = numeric_value;
12186  end;
12187  else do;
12188  abovetext = ">= "||strip(CHARACTER_VALUE);
12189  origval = character_value;
12190  end;
12191  branch = branch + 1;
12192  output;
12193  end;
12194  end;
12195  end;
12196  else do;
12197  if first.numeric_value then do;
12198  flag = 0;
12199  abovetext = CHARACTER_VALUE;
12200  branch = numeric_value;
12201  if first.numeric_value AND last.numeric_value then do;
12202  output;
12203  end;
12204  end;
12205  else if last.numeric_value then do;
12206  if flag=0 then do;
12207  tempstring = strip(abovetext)||", "||CHARACTER_VALUE;
12208  length = length(strip(tempstring));
12209  if length < 32 then do;
12210  abovetext = strip(tempstring);
12211  end;
12212  else do;
12213  abovetext = strip(abovetext)||", ...";
12214  flag = 1;
12215  end;
12216  end;
12217  branch = numeric_value;
12218  output;
12219  end;
12220  else do;
12221  if flag=0 then do;
12222  tempstring = strip(abovetext)||", "||CHARACTER_VALUE;
12223  length = length(strip(tempstring));
12224  if length < 32 then do;
12225  abovetext = strip(tempstring);
12226  end;
12227  else do;
12228  abovetext = strip(abovetext)||", ...";
12229  flag=1;
12230  end;
12231  end;
12232  branch = numeric_value;
12233  end;
12234  end;
12235  keep parent branch abovetext;
12236  run;

NOTE: Numeric values have been converted to character values at the places given by: (Line):(Column).
      12109:25   12124:26   12138:24   12138:47   12147:26   12158:26   12171:24   12171:47   12184:26   
NOTE: Character values have been converted to numeric values at the places given by: (Line):(Column).
      12189:11   
NOTE: There were 28 observations read from the data set WORK.TEMPOUTRULES.
NOTE: The data set WORK.TEMPABOVE has 50 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12237  /* MIssing value to abovetext */
12238  data tempmissing;
12239  set WORK.OUTRULES_TREE_1H1VDSC;
12240  if ((ROLE="PRIMARY") AND (STAT in ("MISSING")));
12241  rename node=parent numeric_value=branch character_value=misschar;
12242  run;

NOTE: There were 611 observations read from the data set WORK.OUTRULES_TREE_1H1VDSC.
NOTE: The data set WORK.TEMPMISSING has 25 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12243  proc sort data=work.tempabove;
12244  by parent branch;
12245  run;

NOTE: There were 50 observations read from the data set WORK.TEMPABOVE.
NOTE: The data set WORK.TEMPABOVE has 50 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12246  proc sort data=EMWS1.Clus2_OUTNODES out=tempoutnodes;
12247  by parent branch;
12248  run;

NOTE: There were 51 observations read from the data set EMWS1.CLUS2_OUTNODES.
NOTE: The data set WORK.TEMPOUTNODES has 51 observations and 26 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12249  proc sort data=tempmissing;
12250  by parent branch;
12251  run;

NOTE: There were 25 observations read from the data set WORK.TEMPMISSING.
NOTE: The data set WORK.TEMPMISSING has 25 observations and 6 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12252  data WORK.Clus2_outnodes;
12253  merge work.tempabove tempoutNodes(drop=abovetext ) tempmissing(in=_a);
12254  by parent branch;
12255  length traintotal validtotal 8;
12256  retain traintotal validtotal;
12257  if _a then do;
12258  if ^MISSING(abovetext) then do;
12259  abovetext= strip(abovetext)||" %sysfunc(sasmsg(sashelp.dmine, tree_ormiss_vlabel, noquote))";
12260  end;
12261  else do;
12262  abovetext = " %sysfunc(sasmsg(sashelp.dmine, tree_missonly_vlabel, noquote))";
12263  end;
12264  end;
12265  if MISSING(abovetext) then abovetext="%sysfunc(sasmsg(sashelp.dmine, tree_nonmiss_vlabel, noquote))";
12266  if node=1 then do;
12267  traintotal = N;
12268  validtotal=VN;
12269  end;
12270  label traintotal = "%sysfunc(sasmsg(sashelp.dmine,  rpt_traintotal_vlabel, noquote))";
12271  drop role rank stat misschar belowtext;
12272  run;

NOTE: Variable VN is uninitialized.
NOTE: There were 50 observations read from the data set WORK.TEMPABOVE.
NOTE: There were 51 observations read from the data set WORK.TEMPOUTNODES.
NOTE: There were 25 observations read from the data set WORK.TEMPMISSING.
NOTE: The data set WORK.CLUS2_OUTNODES has 51 observations and 28 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

12273  proc sort data=WORK.Clus2_outnodes;
12274  by node;
12275  run;

NOTE: There were 51 observations read from the data set WORK.CLUS2_OUTNODES.
NOTE: The data set WORK.CLUS2_OUTNODES has 51 observations and 28 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12276  proc sort data=tempbelow;
12277  by node;
12278  run;

NOTE: Input data set is already sorted, no sorting done.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12279  data WORK.Clus2_outnodes;
12280  merge WORK.Clus2_outnodes tempbelow;
12281  by node;
12282  run;

NOTE: There were 51 observations read from the data set WORK.CLUS2_OUTNODES.
NOTE: There were 25 observations read from the data set WORK.TEMPBELOW.
NOTE: The data set WORK.CLUS2_OUTNODES has 51 observations and 29 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: There were 10000 observations read from the data set EMWS1.FIMPORT_DATA.
NOTE: There were 10000 observations read from the data set EMWS1.FIMPORT_TRAIN.
NOTE: There were 7963 observations read from the data set EMWS1.FILTER2_TRAIN.
NOTE: View EMWS1.EM_CLUS2.VIEW used (Total process time):
      real time           0.18 seconds
      cpu time            0.15 seconds
      
NOTE: There were 7963 observations read from the data set EMWS1.CLUS2_TRAIN.
12283  data tempoutstats;
12284  set WORK.OUTSTATS_TREE_1H1VDSC;
12285  length tarlevel $8;
12286  tarlevel ="NOMINAL";
12287  run;

NOTE: There were 357 observations read from the data set WORK.OUTSTATS_TREE_1H1VDSC.
NOTE: The data set WORK.TEMPOUTSTATS has 357 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12288  data EMWS1.Clus2_TREE_PLOT;
12289  length NODETEXT TEXTALL $800 N NODECOLOR 8;
12290  set WORK.Clus2_outnodes;
12291  label parent = "%sysfunc(sasmsg(sashelp.dmine, rpt_parentID_vlabel, noquote))" depth = "%sysfunc(sasmsg(sashelp.dmine, rpt_depth_vlabel, noquote))" belowtext= "%sysfunc(sasmsg(sashelp.dmine, rpt_belowtext_vlabel, noquote))" abovetext =
12292     "%sysfunc(sasmsg(sashelp.dmine, rpt_abovetext_vlabel, noquote))" linkwidth = "%sysfunc(sasmsg(sashelp.dmine, rpt_linkwidth_vlabel, noquote))" nodetext = "%sysfunc(sasmsg(sashelp.dmine, rpt_nodetext_vlabel, noquote))" textall =
12293     "%sysfunc(sasmsg(sashelp.dmine, rpt_textall_vlabel, noquote))" N = "%sysfunc(sasmsg(sashelp.dmine, rpt_trainn_vlabel, noquote))" nodecolor = "%sysfunc(sasmsg(sashelp.dmine, rpt_nodecolor_vlabel, noquote))" node =
12294     "%sysfunc(sasmsg(sashelp.dmine, rpt_node_vlabel, noquote))";
12295  keep NODE PARENT DEPTH BELOWTEXT ABOVETEXT LINKWIDTH NODETEXT TEXTALL N NODECOLOR;
12296  run;

NOTE: Variable TEXTALL is uninitialized.
NOTE: Variable NODECOLOR is uninitialized.
NOTE: There were 51 observations read from the data set WORK.CLUS2_OUTNODES.
NOTE: The data set EMWS1.CLUS2_TREE_PLOT has 51 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

12297  proc sort data=EMWS1.Clus2_TREE_PLOT;
12298  by node;
12299  run;

NOTE: There were 51 observations read from the data set EMWS1.CLUS2_TREE_PLOT.
NOTE: The data set EMWS1.CLUS2_TREE_PLOT has 51 observations and 10 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12300  proc sort data=tempoutstats;
12301  by node;
12302  run;

NOTE: There were 357 observations read from the data set WORK.TEMPOUTSTATS.
NOTE: The data set WORK.TEMPOUTSTATS has 357 observations and 6 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12303  data EMWS1.Clus2_TREE_PLOT;
12304  merge EMWS1.Clus2_TREE_PLOT tempoutstats;
12305  length text $800 _RASE_ P__SEGMENT_1 8;
12306  retain P__SEGMENT_1 eventlevel;
12307  by node;
12308  if statname='N' then N=statvalue;
12309  if statname='NPRIORS' then N=statvalue;
12310  if statname='PREDICTION' then eventlevel=category;
12311  _RASE_ = .;
12312  if tarlevel ^= 'INTERVAL' then do;
12313  if STATNAME = 'PROBABILITY' then do;
12314  if CATEGORY=EVENTLEVEL then do;
12315  nodetext = right(put(strip(CATEGORY)||':', $12.))|| right(put(STATVALUE, percent13.1));
12316  text = right(put(strip(CATEGORY)||':', $12.))|| right(put(STATVALUE, percent13.1));
12317  P__SEGMENT_1 = round(STATVALUE, .01);
12318  end;
12319  else do;
12320  text = right(put(strip(CATEGORY)||':', $12.))|| right(put(STATVALUE, percent13.1));
12321  end;
12322  textall = strip(textall)||'0A'x||strip( text);
12323  end;
12324  if last.node then do;
12325  nodetext = trim(nodetext)||'0A'x||" %sysfunc(sasmsg(sashelp.dmine, rpt_rptcount_vlabel, noquote )):"|| put(N, 13.);
12326  textall = trim(textall)||'0A'x||" %sysfunc(sasmsg(sashelp.dmine, rpt_rptcount_vlabel, noquote )):"|| put(N, 13.);
12327  output EMWS1.Clus2_TREE_PLOT;
12328  end;
12329  end;
12330  else do;
12331  if statname='RASE' then _RASE_=statvalue;
12332  label _RASE_ = "%sysfunc(sasmsg(sashelp.dmine, rpt_trase_vlabel, noquote))";
12333  if STATNAME = 'PREDICTION' then do;
12334  nodetext= "%sysfunc(sasmsg(sashelp.dmine, rpt_average_vlabel, noquote))"|| put(STATVALUE, 13.4)||'0A'x|| "%sysfunc(sasmsg(sashelp.dmine, rpt_rptcount_vlabel, noquote )):"|| put(N, 13.);
12335  textall = nodetext;
12336  P__SEGMENT_1 = STATVALUE;
12337  ;
12338  ;
12339  end;
12340  if last.node then do;
12341  output EMWS1.Clus2_TREE_PLOT;
12342  end;
12343  ;
12344  end;
12345  label P__SEGMENT_1 = "%sysfunc(sasmsg(sashelp.dmine, rpt_predictedvar_vlabel, noquote))";
12346  keep NODE PARENT DEPTH BELOWTEXT ABOVETEXT LINKWIDTH NODETEXT TEXTALL N NODECOLOR _RASE_ P__SEGMENT_1;
12347  run;

NOTE: There were 51 observations read from the data set EMWS1.CLUS2_TREE_PLOT.
NOTE: There were 357 observations read from the data set WORK.TEMPOUTSTATS.
NOTE: The data set EMWS1.CLUS2_TREE_PLOT has 51 observations and 12 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

12348  data tempcolor;
12349  set WORK.OUTSTATS_TREE_1H1VDSC;
12350  retain eventlevel;
12351  if STATNAME='PREDICTION' then eventlevel=CATEGORY;
12352  run;

NOTE: There were 357 observations read from the data set WORK.OUTSTATS_TREE_1H1VDSC.
NOTE: The data set WORK.TEMPCOLOR has 357 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12353  data tempcolor;
12354  set tempcolor;
12355  if 'NOMINAL' ne 'INTERVAL' then do;
12356  if CATEGORY=EVENTLEVEL AND STATNAME="PROBABILITY";
12357  end;
12358  else do;
12359  if STATNAME="PREDICTION";
12360  end;
12361  run;

NOTE: There were 357 observations read from the data set WORK.TEMPCOLOR.
NOTE: The data set WORK.TEMPCOLOR has 51 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12362  data tempcolor;
12363  set tempcolor;
12364  length nodecolor 8;
12365  if 'NOMINAL' ne 'INTERVAL' then do;
12366  nodecolor = round(100*(STATVALUE), .01);
12367  end;
12368  else do;
12369  nodecolor=round(statvalue, .01);
12370  end;
12371  keep node nodecolor;
12372  run;

NOTE: There were 51 observations read from the data set WORK.TEMPCOLOR.
NOTE: The data set WORK.TEMPCOLOR has 51 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12373  proc sort data=EMWS1.Clus2_TREE_PLOT;
12374  by node;
12375  run;

NOTE: There were 51 observations read from the data set EMWS1.CLUS2_TREE_PLOT.
NOTE: The data set EMWS1.CLUS2_TREE_PLOT has 51 observations and 12 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12376  proc sort data=tempcolor;
12377  by node;
12378  run;

NOTE: There were 51 observations read from the data set WORK.TEMPCOLOR.
NOTE: The data set WORK.TEMPCOLOR has 51 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12379  data EMWS1.Clus2_TREE_PLOT;
12380  merge EMWS1.Clus2_TREE_PLOT tempcolor;
12381  by node;
12382  length traintotal 8;
12383  retain traintotal;
12384  label traintotal = "%sysfunc(sasmsg(sashelp.dmine,  rpt_traintotal_vlabel, noquote))";
12385  if node=1 then do;
12386  traintotal = N;
12387  end;
12388  if NODE eq . then delete;
12389  run;

NOTE: There were 51 observations read from the data set EMWS1.CLUS2_TREE_PLOT.
NOTE: There were 51 observations read from the data set WORK.TEMPCOLOR.
NOTE: The data set EMWS1.CLUS2_TREE_PLOT has 51 observations and 13 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12390  data EMWS1.Clus2_TREE_PLOT;
12391  set EMWS1.Clus2_TREE_PLOT;
12392  textall = "%sysfunc(sasmsg(sashelp.dmine, rpt_nodeId_vlabel, noquote, )):"|| put(Node, 13.)||'0A'x||trim(textall);
12393  run;

NOTE: There were 51 observations read from the data set EMWS1.CLUS2_TREE_PLOT.
NOTE: The data set EMWS1.CLUS2_TREE_PLOT has 51 observations and 13 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12394  data tempout;
12395  set WORK.Clus2_outnodes;
12396  run;

NOTE: There were 51 observations read from the data set WORK.CLUS2_OUTNODES.
NOTE: The data set WORK.TEMPOUT has 51 observations and 29 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12397  proc sort data=tempout;
12398  by descending P__SEGMENT_1;
12399  run;

NOTE: There were 51 observations read from the data set WORK.TEMPOUT.
NOTE: The data set WORK.TEMPOUT has 51 observations and 29 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12400  data tree_temp;
12401  set tempout;
12402  if LEAF ne .;
12403  label index="%sysfunc(sasmsg(sashelp.dmine, rpt_leafindex_vlabel  , NOQUOTE))";
12404  label percevent_train = "%sysfunc(sasmsg(sashelp.dmine, rpt_perc_train_vlabel  , NOQUOTE))";
12405  label perc_train = "%sysfunc(sasmsg(sashelp.dmine, rpt_percevent_train_vlabel  , NOQUOTE))";
12406  label tprob="%sysfunc(sasmsg(sashelp.dmine, rpt_prob_vlabel  , NOQUOTE, %nrbquote()))";
12407  tprob = round(P__SEGMENT_1, .01);
12408  percevent_train = round ( tprob*100, .01);
12409  *perc_train =round( ( N / traintotal)*100, .001);
12410  perc_train =round( ( N / traintotal), .01);
12411  if missing(perc_train) then perc_train = round( linkwidth*100, .001);
12412  index = _n_;
12413  keep NODE index tprob perc_train percevent_train
12414  ;
12415  run;

NOTE: There were 51 observations read from the data set WORK.TEMPOUT.
NOTE: The data set WORK.TREE_TEMP has 26 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12416  proc sort data=tree_temp;
12417  by NODE;
12418  run;

NOTE: There were 26 observations read from the data set WORK.TREE_TEMP.
NOTE: The data set WORK.TREE_TEMP has 26 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12419  proc sort data=EMWS1.Clus2_TREE_PLOT;
12420  by NODE;
12421  run;

NOTE: There were 51 observations read from the data set EMWS1.CLUS2_TREE_PLOT.
NOTE: The data set EMWS1.CLUS2_TREE_PLOT has 51 observations and 13 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12422  data EMWS1.Clus2_TREE_PLOT;
12423  merge EMWS1.Clus2_TREE_PLOT tree_temp;
12424  by NODE;
12425  run;

NOTE: There were 51 observations read from the data set EMWS1.CLUS2_TREE_PLOT.
NOTE: There were 26 observations read from the data set WORK.TREE_TEMP.
NOTE: The data set EMWS1.CLUS2_TREE_PLOT has 51 observations and 17 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12426  proc sort data=EMWS1.Clus2_TREE_PLOT;
12427  by node index;
12428  run;

NOTE: There were 51 observations read from the data set EMWS1.CLUS2_TREE_PLOT.
NOTE: The data set EMWS1.CLUS2_TREE_PLOT has 51 observations and 17 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12429  title9 ' ';
12430  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_VariableImportance_title, NOQUOTE))";
12431  proc print data=EMWS1.Clus2_OUTIMPORT(where=(IMPORTANCE>0)) noobs label;
12432  run;

NOTE: There were 10 observations read from the data set EMWS1.CLUS2_OUTIMPORT.
      WHERE IMPORTANCE>0;
NOTE: The PROCEDURE PRINT printed page 2.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12433  title10;

12434  data WORK.M3K0P5CT;
12435  set WORK.M3K0P5CT;
12436  if role eq 'REJECTED' then role = 'INPUT';
12437  run;

NOTE: There were 11 observations read from the data set WORK.M3K0P5CT.
NOTE: The data set WORK.M3K0P5CT has 11 observations and 21 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12438  proc sort data=EMWS1.Clus2_OUTIMPORT out=WORK.Clus2_GRAPHVARS(keep=NAME);
12439  where IMPORTANCE>0;
12440  by NAME;
12441  run;

NOTE: There were 10 observations read from the data set EMWS1.CLUS2_OUTIMPORT.
      WHERE IMPORTANCE>0;
NOTE: The data set WORK.CLUS2_GRAPHVARS has 10 observations and 1 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12442  proc sort data = WORK.M3K0P5CT;
12443  by NAME;
12444  run;

NOTE: There were 11 observations read from the data set WORK.M3K0P5CT.
NOTE: The data set WORK.M3K0P5CT has 11 observations and 21 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12445  data WORK.M3K0P5CT;
12446  merge WORK.M3K0P5CT WORK.Clus2_GRAPHVARS(in=_b_);
12447  by NAME;
12448  if _b_ or ROLE = "FREQ" or REPORT="Y" then output;
12449  run;

NOTE: There were 11 observations read from the data set WORK.M3K0P5CT.
NOTE: There were 10 observations read from the data set WORK.CLUS2_GRAPHVARS.
NOTE: The data set WORK.M3K0P5CT has 10 observations and 21 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12450  data WORK.M3K0P5CT;
12451  set WORK.M3K0P5CT end=_eof_ nobs=_nobs_;
12452  output;
12453  if _eof_ then do;
12454  name = '_SEGMENT_';
12455  ROLE = 'BY';
12456  LEVEL = 'NOMINAL';
12457  LABEL = 'Segment Variable';
12458  TYPE = 'N';
12459  FORMAT = '';
12460  INFORMAT = '';
12461  output;
12462  end;
12463  run;

NOTE: There were 10 observations read from the data set WORK.M3K0P5CT.
NOTE: The data set WORK.M3K0P5CT has 11 observations and 21 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12464  *------------------------------------------------------------* ;
12465  * Clus2: STDIZE Variables Macro ;
12466  *------------------------------------------------------------* ;
12467  %macro stdizevar;
12468      Age Balance CreditScore EstimatedSalary NumOfProducts Tenure
12469  %mend stdizevar;
12470  *------------------------------------------------------------*;
12471  * Clus2: Computing Summary Statistics;
12472  *------------------------------------------------------------*;
12473  proc stdize
12474  data = EMWS1.Clus2_TRAIN
12475  out=_null_
12476  outstat=WORK.Clus2_STAT
12477  add=0 fuzz=1E-14 initial=MAD
12478  vardef=df
12479  method=STD
12480  mult=1
12481  pctlmtd=ORD_STAT pctldef=2
12482  pctlpts=(
12483  0
12484  100
12485  )
12486  ;
12487  var %stdizevar;
12488  run;

NOTE: INITIAL= will be ignored.
NOTE: There were 10000 observations read from the data set EMWS1.FIMPORT_DATA.
NOTE: There were 10000 observations read from the data set EMWS1.FIMPORT_TRAIN.
NOTE: View EMWS1.CLUS2_TRAIN.VIEW used (Total process time):
      real time           0.16 seconds
      cpu time            0.15 seconds
      
NOTE: There were 7963 observations read from the data set EMWS1.FILTER2_TRAIN.
NOTE: There were 7963 observations read from the data set EMWS1.CLUS2_TRAIN.
NOTE: The data set WORK.CLUS2_STAT has 10 observations and 7 variables.
NOTE: PROCEDURE STDIZE used (Total process time):
      real time           0.17 seconds
      cpu time            0.17 seconds
      

12489  quit;

12490  data WORK.Clus2_MINMAX;
12491  set WORK.Clus2_STAT;
12492  where _TYPE_ in('P0','P100');
12493  if _TYPE_='P0' then _TYPE_='MIN';
12494  else if _TYPE_='P100' then _TYPE_='MAX';
12495  run;

NOTE: There were 2 observations read from the data set WORK.CLUS2_STAT.
      WHERE _TYPE_ in ('P0', 'P100');
NOTE: The data set WORK.CLUS2_MINMAX has 2 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12496  proc transpose data=WORK.Clus2_MINMAX out=WORK.Clus2_MINMAX(drop=_LABEL_ rename=(_NAME_=_VARIABLE_));
12497  id _TYPE_;
12498  run;

WARNING: The variable _LABEL_ in the DROP, KEEP, or RENAME list has never been referenced.
NOTE: There were 2 observations read from the data set WORK.CLUS2_MINMAX.
NOTE: The data set WORK.CLUS2_MINMAX has 6 observations and 3 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12499  data WORK.Clus2_UGRID;
12500  set WORK.Clus2_MINMAX;
12501  B1 = MIN + (1-1)*(MAX-MIN)/8;
12502  B2 = MIN + (2-1)*(MAX-MIN)/8;
12503  B3 = MIN + (3-1)*(MAX-MIN)/8;
12504  B4 = MIN + (4-1)*(MAX-MIN)/8;
12505  B5 = MIN + (5-1)*(MAX-MIN)/8;
12506  B6 = MIN + (6-1)*(MAX-MIN)/8;
12507  B7 = MIN + (7-1)*(MAX-MIN)/8;
12508  B8 = MIN + (8-1)*(MAX-MIN)/8;
12509  B9 = MIN + (9-1)*(MAX-MIN)/8;
12510  drop MIN MAX;
12511  run;

NOTE: There were 6 observations read from the data set WORK.CLUS2_MINMAX.
NOTE: The data set WORK.CLUS2_UGRID has 6 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12512  *------------------------------------------------------------*;
12513  * Clus2: Creating formats for binning interval variables;
12514  *------------------------------------------------------------*;
12515  proc format;
12516  value F1_
12517  18-27.25 = "18:27.25"
12518  27.25-36.5 = "27.25:36.5"
12519  36.5-45.75 = "36.5:45.75"
12520  45.75-55 = "45.75:55"
12521  55-64.25 = "55:64.25"
12522  64.25-73.5 = "64.25:73.5"
12523  73.5-82.75 = "73.5:82.75"
12524  82.75-92 = "82.75:92"
12525  ;
NOTE: Format F1_ has been output.
12526  value F2_
12527  0-27691.6 = "0:27692"
12528  27691.6-55383.2 = "27692:55383"
12529  55383.2-83074.8 = "55383:83075"
12530  83074.8-110766.4 = "83075:110766"
12531  110766.4-138458 = "110766:138458"
12532  138458-166149.6 = "138458:166150"
12533  166149.6-193841.2 = "166150:193841"
12534  193841.2-221532.8 = "193841:221533"
12535  ;
NOTE: Format F2_ has been output.
12536  value F3_
12537  405-460.625 = "405:460.63"
12538  460.625-516.25 = "460.63:516.25"
12539  516.25-571.875 = "516.25:571.88"
12540  571.875-627.5 = "571.88:627.5"
12541  627.5-683.125 = "627.5:683.13"
12542  683.125-738.75 = "683.13:738.75"
12543  738.75-794.375 = "738.75:794.38"
12544  794.375-850 = "794.38:850"
12545  ;
NOTE: Format F3_ has been output.
12546  value F4_
12547  90.07-25077.87125 = "90.07:25078"
12548  25077.87125-50065.6725 = "25078:50066"
12549  50065.6725-75053.47375 = "50066:75053"
12550  75053.47375-100041.275 = "75053:100041"
12551  100041.275-125029.07625 = "100041:125029"
12552  125029.07625-150016.8775 = "125029:150017"
12553  150016.8775-175004.67875 = "150017:175005"
12554  175004.67875-199992.48 = "175005:199992"
12555  ;
NOTE: Format F4_ has been output.
12556  value F5_
12557  1-1.25 = "1:1.25"
12558  1.25-1.5 = "1.25:1.5"
12559  1.5-1.75 = "1.5:1.75"
12560  1.75-2 = "1.75:2"
12561  2-2.25 = "2:2.25"
12562  2.25-2.5 = "2.25:2.5"
12563  2.5-2.75 = "2.5:2.75"
12564  2.75-3 = "2.75:3"
12565  ;
NOTE: Format F5_ has been output.
12566  value F6_
12567  0-1.25 = "0:1.25"
12568  1.25-2.5 = "1.25:2.5"
12569  2.5-3.75 = "2.5:3.75"
12570  3.75-5 = "3.75:5"
12571  5-6.25 = "5:6.25"
12572  6.25-7.5 = "6.25:7.5"
12573  7.5-8.75 = "7.5:8.75"
12574  8.75-10 = "8.75:10"
12575  ;
NOTE: Format F6_ has been output.
12576  run;

NOTE: PROCEDURE FORMAT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12577  ods listing close;
12578  ods output crosstabfreqs=WORK.TEMPFREQ;
12579  proc freq data = EMWS1.Clus2_TRAIN order=formatted addnames;
12580  table Age * _SEGMENT_ / missing;
12581  table Balance * _SEGMENT_ / missing;
12582  table Country * _SEGMENT_ / missing;
12583  table CreditScore * _SEGMENT_ / missing;
12584  table EstimatedSalary * _SEGMENT_ / missing;
12585  table Gender * _SEGMENT_ / missing;
12586  table HasCreditCard * _SEGMENT_ / missing;
12587  table IsActiveMember * _SEGMENT_ / missing;
12588  table NumOfProducts * _SEGMENT_ / missing;
12589  table Tenure * _SEGMENT_ / missing;
12590  format AGE F1_.;
12591  format BALANCE F2_.;
12592  format CREDITSCORE F3_.;
12593  format ESTIMATEDSALARY F4_.;
12594  format NUMOFPRODUCTS F5_.;
12595  format TENURE F6_.;
12596  run;

NOTE: There were 10000 observations read from the data set EMWS1.FIMPORT_DATA.
NOTE: There were 10000 observations read from the data set EMWS1.FIMPORT_TRAIN.
NOTE: View EMWS1.CLUS2_TRAIN.VIEW used (Total process time):
      real time           0.15 seconds
      cpu time            0.12 seconds
      
NOTE: There were 7963 observations read from the data set EMWS1.FILTER2_TRAIN.
NOTE: The data set WORK.TEMPFREQ has 372 observations and 21 variables.
NOTE: There were 7963 observations read from the data set EMWS1.CLUS2_TRAIN.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.18 seconds
      cpu time            0.15 seconds
      

12597  quit;
12598  ods listing;
12599  data EMWS1.Clus2_PROFILE(keep=_VARIABLE_ _SEGMENT_ TYPE COUNT PERCENT _X_ _XLABEL_);
12600  label _VARIABLE_ = "%sysfunc(sasmsg(sashelp.dmine, rpt_variable_vlabel, NOQUOTE))" _SEGMENT_ = "Segment Variable" Type = "%sysfunc(sasmsg(sashelp.dmine, rpt_type_vlabel,         NOQUOTE))" _X_ =
12601     "%sysfunc(sasmsg(sashelp.dmine, rpt_numValue_vlabel, NOQUOTE))" _XLABEL_ = "%sysfunc(sasmsg(sashelp.dmine, rpt_fmtValue_vlabel ,    NOQUOTE))" COUNT = "%sysfunc(sasmsg(sashelp.dmine, rpt_count_vlabel,        NOQUOTE))" PERCENT =
12602     "%sysfunc(sasmsg(sashelp.dmine, rpt_percent_vlabel,      NOQUOTE))";
12603  dsid = open("WORK.TEMPFREQ");
12604  varnum = varnum(dsid, 'ROWVARIABLE');
12605  freqnum = varnum(dsid, 'FREQUENCY');
12606  pvarnum = varnum(dsid, 'PERCENT');
12607  typenum = varnum(dsid, '_TYPE_');
12608  bynum = varnum(dsid, "_SEGMENT_");
12609  length varformat _VARIABLE_ $32 _XLABEL_ $32 TYPE $1;
12610  do while(^fetch(dsid));
12611  count = getvarn(dsid, freqnum);
12612  percent = getvarn(dsid, pvarnum);
12613  _VARIABLE_ = strip(getvarc(dsid, varnum));
12614  varblnum = varnum(dsid, _VARIABLE_);
12615  _SEGMENT_ = getvarn(dsid, bynum);
12616  type = vartype(dsid, varblnum);
12617  varformat = varfmt(dsid, varblnum);
12618  if varformat eq '' then varformat = 'best12.';
12619  _X_=.;
12620  if type = 'N' then do;
12621  _X_ = getvarn(dsid, varblnum);
12622  _XLABEL_ = left(putn(_X_, varformat));
12623  end;
12624  else _XLABEL_ = getvarc(dsid, varblnum);
12625  if getvarc(dsid, typenum) = '11' then output;
12626  end;
12627  dsid = close(dsid);
12628  run;

NOTE: The data set EMWS1.CLUS2_PROFILE has 260 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

12629  proc sort data=EMWS1.Clus2_PROFILE NOTHREADS;
12630  by _VARIABLE_ _SEGMENT_;
12631  run;

NOTE: There were 260 observations read from the data set EMWS1.CLUS2_PROFILE.
NOTE: The data set EMWS1.CLUS2_PROFILE has 260 observations and 7 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

12632  proc means data=EMWS1.Clus2_PROFILE noprint missing NWAY;
12633  class _VARIABLE_ _SEGMENT_;
12634  var COUNT;
12635  output out=WORK.Clus2_STATCOUNT(keep=_SEGMENT_ _VARIABLE_ SUM) SUM=SUM;
12636  run;

NOTE: There were 260 observations read from the data set EMWS1.CLUS2_PROFILE.
NOTE: The data set WORK.CLUS2_STATCOUNT has 50 observations and 3 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

12637  proc sort data=WORK.Clus2_STATCOUNT NOTHREADS;
12638  by _VARIABLE_ _SEGMENT_;
12639  run;

NOTE: There were 50 observations read from the data set WORK.CLUS2_STATCOUNT.
NOTE: The data set WORK.CLUS2_STATCOUNT has 50 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12640  data EMWS1.Clus2_PROFILE(drop=SUM);
12641  label BYPERCENT= "%sysfunc(sasmsg(sashelp.dmine, rpt_percent_vlabel, NOQUOTE, _SEGMENT_))";
12642  merge EMWS1.Clus2_PROFILE WORK.Clus2_STATCOUNT;
12643  by _VARIABLE_ _SEGMENT_;
12644  if SUM ne . then BYPERCENT = 100*COUNT/SUM;
12645  run;

NOTE: There were 260 observations read from the data set EMWS1.CLUS2_PROFILE.
NOTE: There were 50 observations read from the data set WORK.CLUS2_STATCOUNT.
NOTE: The data set EMWS1.CLUS2_PROFILE has 260 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12646  proc sort data=EMWS1.Clus2_PROFILE NOTHREADS;
12647  by _VARIABLE_;
12648  run;

NOTE: There were 260 observations read from the data set EMWS1.CLUS2_PROFILE.
NOTE: The data set EMWS1.CLUS2_PROFILE has 260 observations and 8 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12649  proc sort data=WORK.M3K0P5CT;
12650  by Name;
12651  run;

NOTE: There were 11 observations read from the data set WORK.M3K0P5CT.
NOTE: The data set WORK.M3K0P5CT has 11 observations and 21 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12652  data EMWS1.Clus2_PROFILE;
12653  merge EMWS1.Clus2_PROFILE(in=_a) WORK.M3K0P5CT(keep=Name Label Role rename=(Name=_Variable_ Label=_Label_));
12654  by _Variable_;
12655  label Role = "%sysfunc(sasmsg(sashelp.dmine, meta_role_vlabel ,  NOQUOTE))";
12656  label Label = "%sysfunc(sasmsg(sashelp.dmine, meta_label_vlabel , NOQUOTE))";
12657  if _a then output;
12658  run;

NOTE: Variable Label is uninitialized.
WARNING: Multiple lengths were specified for the BY variable _VARIABLE_ by input data sets. This might cause unexpected results.
NOTE: There were 260 observations read from the data set EMWS1.CLUS2_PROFILE.
NOTE: There were 11 observations read from the data set WORK.M3K0P5CT.
NOTE: The data set EMWS1.CLUS2_PROFILE has 260 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12659  proc sort data=EMWS1.Clus2_PROFILE;
12660  by _SEGMENT_ _VARIABLE_ _X_;
12661  run;

NOTE: There were 260 observations read from the data set EMWS1.CLUS2_PROFILE.
NOTE: The data set EMWS1.CLUS2_PROFILE has 260 observations and 10 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12662  data EMWS1.Clus2_PROFILE(rename=(_VARIABLE_=Variable _X_=NumericValue _XLABEL_=FmtValue));
12663  set EMWS1.Clus2_PROFILE;
12664  retain orderedValue 0;
12665  label OrderedValue = "%sysfunc(sasmsg(sashelp.dmine, rpt_OrderedValue_vlabel, NOQUOTE))";
12666  by _SEGMENT_ _VARIABLE_;
12667  if first._variable_ then orderedValue=1;
12668  else orderedValue+1;
12669  run;

NOTE: There were 260 observations read from the data set EMWS1.CLUS2_PROFILE.
NOTE: The data set EMWS1.CLUS2_PROFILE has 260 observations and 11 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12670  proc transpose data=EMWS1.Clus2_OUTVAR out=WORK.Clus2_OUTVAR(where=(COL1 ^in('IMPUTED','OMITTED')));
12671  var Age--IsActiveMemberYes;
12672  where _TYPE_ in('TYPE' 'VARIABLE');
12673  run;

NOTE: There were 2 observations read from the data set EMWS1.CLUS2_OUTVAR.
      WHERE _TYPE_ in ('TYPE', 'VARIABLE');
NOTE: The data set WORK.CLUS2_OUTVAR has 15 observations and 4 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12674  *------------------------------------------------------------* ;
12675  * Clus2: DMVQ Variables;
12676  *------------------------------------------------------------* ;
12677  %macro dmvqvars;
12678      Age Balance CreditScore EstimatedSalary NumOfProducts Tenure CountryFrance
12679     CountryGermany CountrySpain GenderFemale GenderMale HasCreditCardNo
12680     HasCreditCardYes IsActiveMemberNo IsActiveMemberYes
12681  %mend ;
12682  
12683  

12684  data WORK.Clus2_temp;
12685  set EMWS1.Clus2_OUTMEAN;
12686  _idvar_=left(put(_SEGMENT_,4.));
12687  run;

NOTE: There were 5 observations read from the data set EMWS1.CLUS2_OUTMEAN.
NOTE: The data set WORK.CLUS2_TEMP has 5 observations and 25 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12688  proc distance data=WORK.Clus2_temp out=EMWS1.Clus2_DISTANCE method=l(2) shape=square;
12689  id _idvar_;
12690  var interval(%dmvqvars);
12691  run;

NOTE: The data set EMWS1.CLUS2_DISTANCE has 5 observations and 6 variables.
NOTE: PROCEDURE DISTANCE used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12692  proc mds data=EMWS1.Clus2_DISTANCE out=WORK.Clus2_mds level=absolute nohist shape=square dim=3;
12693  object _idvar_;
12694  run;

NOTE: Convergence assumed because the badness-of-fit criterion 6.6560998E-8 is less than or equal to MINCRIT=1E-6.
NOTE: The data set WORK.CLUS2_MDS has 6 observations and 8 variables.
NOTE: PROCEDURE MDS used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12695  quit;
12696  data WORK.Clus2_mds;
12697  set WORK.Clus2_mds;
12698  if _type_ ne 'CONFIG' then delete;
12699  run;

NOTE: There were 6 observations read from the data set WORK.CLUS2_MDS.
NOTE: The data set WORK.CLUS2_MDS has 5 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12700  data WORK.Clus2_mds(label="&label" keep=_idvar_ _radius_ dim1 dim2 dim3);
WARNING: Apparent symbolic reference LABEL not resolved.
12701  merge WORK.Clus2_temp WORK.Clus2_mds;
12702  run;

NOTE: There were 5 observations read from the data set WORK.CLUS2_TEMP.
NOTE: There were 5 observations read from the data set WORK.CLUS2_MDS.
NOTE: The data set WORK.CLUS2_MDS has 5 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12703  options nodate;
12704  title1 "%sysfunc(sasmsg(sashelp.dmine, rpt_ClusterDistance_title, NOQUOTE))";
12705  %plotit(data=WORK.Clus2_mds, datatype=mds, radii=_radius_, labelvar=_idvar_, symtype=circle, symbols='*', gout=WORK.Clus2, gname=DISTANCE, gopts2=nodisplay, gopts=device=GIF, gopplot=cback=white, titlecol=black, labelcol=black, tickcol=black,
12706     framecol=black, post=C:\Users\20161277\AppData\Local\Temp\27\SAS Temporary Files\_TD62988_BA-TEACHING_\plotit.ps);

                                                                                                                    Types Legend  | CONFIG
                                                                                                                    --------------+---------
                                                                                                                    Symbol Types  | circle
                                                                                                                    Symbols       | *
                                                                                                                    Symbol Colors | cx000000
                                                                                                                    Label  Colors | cx000000
                                                                                                                    Symbol Sizes  | 1
                                                                                                                    Label  Sizes  | 1
                                                                                                                    Symbol Fonts  | none
                                                                                                                    Label  Fonts  | none
                                                                                                                    ------------------------

                                                                                                         Iterative Scatter Plot of Labeled Points Macro

                                                                                                    Iteration    Place    Line Size    Page Size    Penalty
                                                                                                    -------------------------------------------------------
                                                                                                        1          2         65           45            0

The following code will create the printer plot on which the graphical plot is based:

options nonumber ls=65 ps=45;
proc plot nolegend formchar='|----|+|---' data=preproc vtoh=2;
   plot Dim2 * Dim1 $ _idvar_ = _symbol_ /
        haxis=by 25000 vaxis=by 25000 box list=1
        placement=((h=2 -2 : s=right left) (v=1 -1 * h=0 -1 to -5 by alt));
   label Dim2 = 'Dimension 2' Dim1 = 'Dimension 1';
   label Dim2 = '#' Dim1 = '#';
   run; quit;

The plot was created with the following goptions:

goptions nodisplay hpos=70 vpos=27 hsize=8.33in vsize=6.24in cback=white device=GIF;

The OUT=anno Annotate data set has 164 observations.
The PLOTIT macro used 0.7 seconds to create OUT=anno.
12707  goptions display;
12708  title;

12709  filename gsasfile "C:\Users\20161277\Documents\CA Assignment
12709! 3\Workspaces\EMWS1\Clus2\GRAPH\Distance.gif";
12710  goptions reset=all device=PNG display gaccess= gsasfile gsfmode= replace cback= white;
12711  proc greplay igout=WORK.Clus2 nofs;
NOTE: Building list of graphs from the catalog.

NOTE: Enter greplay commands or statements.
12712  replay DISTANCE;
NOTE: This SAS session is using a registry in WORK.  All changes will be lost at the end of this 
      session.
NOTE: 16760 bytes written to C:\Users\20161277\Documents\CA Assignment 
      3\Workspaces\EMWS1\Clus2\GRAPH\Distance.gif.
12713  quit;

NOTE: PROCEDURE GREPLAY used (Total process time):
      real time           0.12 seconds
      cpu time            0.12 seconds
      

12714  goptions reset=all;
12715  filename gsasfile;
NOTE: Fileref GSASFILE has been deassigned.

12716  proc datasets lib=EMWS1 nolist;
12717  modify Clus2_DISTANCE;
12718  rename _idvar_=_SEGMENT_;
NOTE: Renaming variable _idvar_ to _SEGMENT_.
12719  run;

NOTE: MODIFY was successful for EMWS1.CLUS2_DISTANCE.DATA.
12720  quit;

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

12721  *------------------------------------------------------------*;
12722  * Clus2: Creating data set for Input Mean report;
12723  *------------------------------------------------------------*;
12724  data temp(drop=_type_ over_all);
12725  set EMWS1.Clus2_OUTSTAT;
12726  where _type_ in('DMDB_MEAN', 'CLUS_MEAN');
12727  run;

NOTE: There were 6 observations read from the data set EMWS1.CLUS2_OUTSTAT.
      WHERE _type_ in ('CLUS_MEAN', 'DMDB_MEAN');
NOTE: The data set WORK.TEMP has 6 observations and 16 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12728  proc sort data=temp;
12729  by _SEGMENT_;
12730  run;

NOTE: There were 6 observations read from the data set WORK.TEMP.
NOTE: The data set WORK.TEMP has 6 observations and 16 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12731  proc stdize data=temp out=stdtemp pctlpts=0 100 outstat=stat;
12732  var Age--IsActiveMemberYes;
12733  run;

NOTE: There were 6 observations read from the data set WORK.TEMP.
NOTE: The data set WORK.STDTEMP has 6 observations and 16 variables.
NOTE: The data set WORK.STAT has 10 observations and 16 variables.
NOTE: PROCEDURE STDIZE used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12734  proc transpose data=stat out=tstat(rename=(COL1=MEAN COL2=STD COL3=MIN COL4=MAX));
12735  where _type_ in ('LOCATION', 'SCALE','P0', 'P100');
12736  run;

NOTE: There were 4 observations read from the data set WORK.STAT.
      WHERE _type_ in ('LOCATION', 'P0', 'P100', 'SCALE');
NOTE: The data set WORK.TSTAT has 15 observations and 6 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12737  data tstat( rename=(_NAME_=NAME) keep=_NAME_ cv stdmin stdmax);
12738  set tstat;
12739  if std ^in (0, .) then do;
12740  stdmin = abs((min-mean)/std);
12741  stdmax = abs((max-mean)/std);
12742  end;
12743  if mean ^in(0, .) then cv = std/mean;
12744  run;

NOTE: There were 15 observations read from the data set WORK.TSTAT.
NOTE: The data set WORK.TSTAT has 15 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12745  proc sort data=tstat;
12746  by NAME;
12747  run;

NOTE: There were 15 observations read from the data set WORK.TSTAT.
NOTE: The data set WORK.TSTAT has 15 observations and 4 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12748  proc transpose data=stdtemp out=tstdtemp(rename=(_NAME_=NAME _LABEL_=LABEL COL1=MEAN));
12749  by _SEGMENT_;
12750  run;

NOTE: There were 6 observations read from the data set WORK.STDTEMP.
NOTE: The data set WORK.TSTDTEMP has 90 observations and 4 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12751  proc sort data=tstdtemp;
12752  by NAME;
12753  run;

NOTE: There were 90 observations read from the data set WORK.TSTDTEMP.
NOTE: The data set WORK.TSTDTEMP has 90 observations and 4 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12754  data tstdtemp;
12755  merge tstdtemp tstat;
12756  by NAME;
12757  STDMEAN = (MEAN + stdmin)/(stdmin + stdmax);
12758  drop stdmin stdmax mean;
12759  run;

NOTE: There were 90 observations read from the data set WORK.TSTDTEMP.
NOTE: There were 15 observations read from the data set WORK.TSTAT.
NOTE: The data set WORK.TSTDTEMP has 90 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12760  proc transpose data=EMWS1.Clus2_OUTVAR out=tempVar(drop=_LABEL_ rename=( _NAME_=NAME
12760! VARIABLE=INPUT));
12761  var Age--IsActiveMemberYes;
12762  id _type_;
12763  where _type_ = 'VARIABLE';
12764  run;

NOTE: There were 1 observations read from the data set EMWS1.CLUS2_OUTVAR.
      WHERE _type_='VARIABLE';
NOTE: The data set WORK.TEMPVAR has 15 observations and 2 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12765  proc sort data=tempVar;
12766  by NAME;
12767  run;

NOTE: There were 15 observations read from the data set WORK.TEMPVAR.
NOTE: The data set WORK.TEMPVAR has 15 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12768  data EMWS1.Clus2_INPUTMEAN(rename=(NAME=VARIABLE));
12769  Length _SEGMENT_CHAR_ $7;
12770  label _SEGMENT_ = "%sysfunc(sasmsg(sashelp.dmine, rpt_segmentName_vlabel,  NOQUOTE))"
12770! _SEGMENT_CHAR_ = "%sysfunc(sasmsg(sashelp.dmine, rpt_segmentId_vlabel,    NOQUOTE))" NAME =
12770! "%sysfunc(sasmsg(sashelp.dmine, rpt_variable_vlabel,     NOQUOTE))" INPUT =
12771     "%sysfunc(sasmsg(sashelp.dmine, rpt_input_vlabel,        NOQUOTE))" LABEL =
12771! "%sysfunc(sasmsg(sashelp.dmine, rpt_label_vlabel,        NOQUOTE))" CV =
12771! "%sysfunc(sasmsg(sashelp.dmine, rpt_cv_vlabel,           NOQUOTE))" STDMEAN =
12772     "%sysfunc(sasmsg(sashelp.dmine, rpt_normmean_vlabel,     NOQUOTE))";
12773  merge tempvar tstdtemp;
12774  by NAME;
12775  if LABEL='' then LABEL=NAME;
12776  _SEGMENT_CHAR_ = strip(put(_SEGMENT_, best.));
12777  if _SEGMENT_ = . then _SEGMENT_CHAR_='Overall';
12778  run;

NOTE: There were 15 observations read from the data set WORK.TEMPVAR.
NOTE: There were 90 observations read from the data set WORK.TSTDTEMP.
NOTE: The data set EMWS1.CLUS2_INPUTMEAN has 90 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

12779  proc sort data=EMWS1.Clus2_INPUTMEAN;
12780  by descending cv;
12781  run;

NOTE: There were 90 observations read from the data set EMWS1.CLUS2_INPUTMEAN.
NOTE: The data set EMWS1.CLUS2_INPUTMEAN has 90 observations and 7 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12782  *------------------------------------------------------------*;
12783  * Clus2: Determining the important variables;
12784  *------------------------------------------------------------*;

12785  %let _nobs = 0;
12786  data keepvars(rename=(NAME=INPUT));
12787  set EMWS1.Clus2_OUTIMPORT(where=(IMPORTANCE>0.5)) end=eof;
12788  if eof then call symput('_nobs', strip(put(_N_, best.)));
12789  run;

NOTE: There were 6 observations read from the data set EMWS1.CLUS2_OUTIMPORT.
      WHERE IMPORTANCE>0.5;
NOTE: The data set WORK.KEEPVARS has 6 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12790  proc transpose data=EMWS1.Clus2_OUTVAR out=tempVar(drop=_LABEL_ rename=( _NAME_=NAME
12790! VARIABLE=INPUT));
12791  var Age--IsActiveMemberYes;
12792  id _type_;
12793  where _type_ = 'VARIABLE';
12794  run;

NOTE: There were 1 observations read from the data set EMWS1.CLUS2_OUTVAR.
      WHERE _type_='VARIABLE';
NOTE: The data set WORK.TEMPVAR has 15 observations and 2 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12795  proc sort data=keepvars;
12796  by INPUT;
12797  run;

NOTE: There were 6 observations read from the data set WORK.KEEPVARS.
NOTE: The data set WORK.KEEPVARS has 6 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12798  proc sort data=tempvar;
12799  by INPUT;
12800  run;

NOTE: There were 15 observations read from the data set WORK.TEMPVAR.
NOTE: The data set WORK.TEMPVAR has 15 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12801  data vars;
12802  merge tempvar keepvars(in=b);
12803  by INPUT;
12804  if b then output;
12805  run;

WARNING: Multiple lengths were specified for the BY variable INPUT by input data sets. This might 
         cause unexpected results.
NOTE: There were 15 observations read from the data set WORK.TEMPVAR.
NOTE: There were 6 observations read from the data set WORK.KEEPVARS.
NOTE: The data set WORK.VARS has 9 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12806  proc sort data=vars;
12807  by descending importance;
12808  run;

NOTE: There were 9 observations read from the data set WORK.VARS.
NOTE: The data set WORK.VARS has 9 observations and 6 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

12809  data _null_;
12810  set vars;
12811  if _N_=1 then call symput('CLUS_PROFVARS', strip(NAME));
12812  else call symput('CLUS_PROFVARS',symget('CLUS_PROFVARS')!!' '!!strip(NAME));
12813  run;

NOTE: There were 9 observations read from the data set WORK.VARS.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12814  *------------------------------------------------------------*;
12815  * mergeVarMeansandClusLabel;
12816  *------------------------------------------------------------*;
12817  data temp(keep=_SEGMENT_ &CLUS_PROFVARS);
12818  length _SEGMENT_ &CLUS_PROFVARS 8;
12819  set EMWS1.Clus2_OUTSTAT;
12820  where _type_ ='CLUS_MEAN';
12821  run;

NOTE: There were 5 observations read from the data set EMWS1.CLUS2_OUTSTAT.
      WHERE _type_='CLUS_MEAN';
NOTE: The data set WORK.TEMP has 5 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12822  proc sort data=temp;
12823  by _SEGMENT_;
12824  run;

NOTE: There were 5 observations read from the data set WORK.TEMP.
NOTE: The data set WORK.TEMP has 5 observations and 10 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12825  data EMWS1.Clus2_LABEL;
12826  merge EMWS1.Clus2_LABEL(keep=_SEGMENT_ LABEL) temp;
12827  by _SEGMENT_;
12828  run;

NOTE: There were 5 observations read from the data set EMWS1.CLUS2_LABEL.
NOTE: There were 5 observations read from the data set WORK.TEMP.
NOTE: The data set EMWS1.CLUS2_LABEL has 5 observations and 11 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

